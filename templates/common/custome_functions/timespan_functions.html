<!-- 时间span 刷新函数 -->
<script type="text/javascript">
    // 实现加载页面的时候首次显示
    function load_datetime_span() {
        let date = new Date();
        let date_string = date.getFullYear() + "-" + (date.getMonth() + 1).toString().padStart(2, '0') +
            "-" + date.getDate().toString().padStart(2, '0');
        if (location.hash.slice(1,) === date_string || location.hash === '') {
            //格式化为本地时间格式
            let date_str = date.toLocaleString();
            document.write(date_str);
        } else {
            date = new Date(location.hash.split('-')[0].slice(1,), parseInt(location.hash.split('-')[1]) - 1,
                location.hash.split('-')[2]);
            // 格式化为当日日期
            let date_str = date.getFullYear() + "-" + (date.getMonth() + 1).toString().padStart(2, '0') + "-" +
                date.getDate().toString().padStart(2, '0') + " 星期" + "日一二三四五六".charAt(date.getDay());
            document.write(date_str);

            // 修改字体颜色
            let span_datetime = document.getElementById("span_datetime");
            span_datetime.style.color = '#B0C4DE';
        }
    }

    // 不断刷新时间
    function refresh_datetime_today() {
        // 获取当前时间
        let date = new Date();
        let date_string = date.getFullYear() + "-" + (date.getMonth() + 1).toString().padStart(2, '0') +
            "-" + date.getDate().toString().padStart(2, '0');
        if (location.hash.slice(1,) === date_string || location.hash === '') {
            // 格式化为本地时间格式
            let date_str = date.toLocaleString();
            // 写入span的innerHTML
            let span_datetime = document.getElementById("span_datetime");
            span_datetime.innerHTML = date_str;
        }
    }

    setInterval("refresh_datetime_today()", 1000); // 使用定时器每秒向div写入当前时间
</script>